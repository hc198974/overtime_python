# -*- coding: utf-8 -*-
import itertools
import time


class Count(object):
    def __init__(self):
        self.cash = {}
        self.result = result
        self.dict = dic[name]

    def jiSuan(self):
        # 获得URL
        dict_1, dict_2, dict_3 = {}, {}, {}
        for x in self.dict:
            if self.result[x] == 1.5:
                dict_1.update({x: self.dict[x]})
            elif self.result[x] == 2:
                dict_2.update(({x: self.dict[x]}))
            elif self.result[x] == 3:
                dict_3.update(({x: self.dict[x]}))

        remainder = 36
        if sum(list(self.dict.values())) > 36:
            for p in [dict_3, dict_2, dict_1]:
                if len(p) > 0:
                    combine = []
                    for r in range(1, len(p) + 1):
                        combinations = list(itertools.combinations(p, r))
                        for x in combinations:
                            combine.append(x)

                    temp = {}
                    smax = 0
                    s = 0
                    for m in combine:
                        for n in m:
                            s += self.dict[n]

                        if s <= remainder:
                            if smax < s:
                                smax = s
                                temp.clear()
                                for y in m:
                                    temp.update({y: self.dict[y]})
                                s = 0
                            else:
                                s = 0
                        else:
                            s = 0

                    self.cash.update(temp)
                    remainder = remainder - sum(list(self.cash.values()))
        else:
            self.cash = self.dict.copy()

        print(name)
        print('总数据一览：', self.dict)
        print('加班数合计：', round(sum(list(self.dict.values())), 2))
        print('转加班小时：', round(sum(list(self.cash.values())), 2))
        sum_chuan_xiu = round(sum(list(self.dict.values())) -
                              sum(list(self.cash.values())), 2)
        print('转串休小时：', sum_chuan_xiu)


start = time.perf_counter()
result = {'20240701': 1.5, '20240702': 1.5, '20240703': 1.5, '20240704': 1.5, '20240705': 1.5, '20240706': 2,
          '20240707': 2, '20240708': 1.5, '20240709': 1.5, '20240710': 1.5, '20240711': 1.5, '20240712': 1.5,
          '20240713': 2, '20240714': 2, '20240715': 1.5, '20240716': 1.5, '20240717': 1.5, '20240718': 1.5,
          '20240719': 1.5, '20240720': 2, '20240721': 2, '20240722': 1.5, '20240723': 1.5, '20240724': 1.5,
          '20240725': 1.5, '20240726': 1.5, '20240727': 2, '20240728': 2, '20240729': 1.5, '20240730': 1.5,
          '20240731': 1.5}
dict_all = [
    {'郭兴鹍': {}},
    {'唐凯': {'20240728': 5.23, '20240721': 7.27, '20240716': 1.18, '20240713': 6.1, '20240707': 2.63}}, {
        '韩雨': {'20240728': 4.17, '20240727': 2.85, '20240726': 1.23, '20240721': 3.12, '20240720': 1.08,
                 '20240719': 1.18, '20240715': 0.98, '20240714': 3.72, '20240713': 0.5, '20240712': 1.4,
                 '20240707': 5.08, '20240705': 1.17, '20240702': 0.58, '20240701': 0.65}}, {
        '宋林': {'20240731': 1.2, '20240730': 1.2, '20240729': 0.95, '20240728': 6.85, '20240725': 0.85,
                 '20240723': 0.97, '20240722': 0.93, '20240721': 8.13, '20240719': 1.4, '20240718': 1.68,
                 '20240717': 1.55, '20240716': 1.32, '20240715': 3.43, '20240714': 6.75, '20240711': 1.0,
                 '20240707': 7.82, '20240705': 0.73, '20240704': 0.55, '20240703': 0.95}}, {
        '姜延令': {'20240722': 1.5, '20240720': 7.1, '20240717': 1.3, '20240716': 0.87, '20240711': 0.63,
                   '20240707': 7.22, '20240705': 1.1, '20240704': 0.53, '20240701': 0.98}}, {
        '李向军': {'20240729': 0.72, '20240728': 4.13, '20240727': 7.62, '20240720': 7.63, '20240713': 8.55,
                   '20240706': 7.5}}, {
        '金鹏程': {'20240731': 0.87, '20240730': 1.3, '20240729': 1.07, '20240727': 7.47, '20240724': 0.68,
                   '20240723': 1.2, '20240722': 0.77, '20240720': 7.18, '20240718': 1.23, '20240716': 0.78,
                   '20240715': 1.35, '20240712': 0.97, '20240711': 0.93, '20240710': 1.15, '20240708': 0.73,
                   '20240707': 7.8, '20240705': 1.05, '20240704': 0.97, '20240701': 1.22}}, {
        '倪凡': {'20240731': 3.2, '20240730': 2.2, '20240729': 1.18, '20240727': 8.08, '20240726': 0.65,
                 '20240725': 1.77, '20240724': 2.55, '20240722': 1.55, '20240720': 7.8, '20240719': 2.9,
                 '20240718': 1.53, '20240716': 2.27, '20240713': 9.22, '20240710': 1.35, '20240709': 1.6,
                 '20240708': 1.63, '20240707': 8.0, '20240705': 1.58, '20240704': 1.2, '20240703': 1.58,
                 '20240702': 1.32, '20240701': 1.22}}, {
        '梁煜业': {'20240731': 2.38, '20240730': 2.53, '20240729': 2.53, '20240727': 8.03, '20240726': 0.88,
                   '20240725': 2.47, '20240724': 2.93, '20240723': 2.3, '20240722': 2.08, '20240721': 9.12,
                   '20240717': 4.07, '20240716': 2.97, '20240714': 8.65, '20240711': 3.18, '20240710': 2.17,
                   '20240709': 2.9, '20240708': 1.68, '20240706': 9.95, '20240705': 1.1, '20240704': 0.83,
                   '20240703': 0.75, '20240701': 1.62}}, {
        '王振中': {'20240731': 1.6, '20240730': 1.38, '20240729': 0.87, '20240726': 2.15, '20240725': 4.8,
                   '20240724': 2.62, '20240723': 0.65, '20240722': 1.65, '20240720': 7.98, '20240719': 2.17,
                   '20240716': 1.65, '20240715': 1.0, '20240711': 1.45, '20240710': 1.4, '20240709': 1.55,
                   '20240708': 1.32, '20240707': 7.43, '20240705': 1.17, '20240702': 0.57, '20240701': 1.52}}, {
        '张明文': {'20240731': 1.73, '20240727': 4.77, '20240726': 2.18, '20240725': 2.02, '20240724': 1.05,
                   '20240723': 1.57, '20240722': 1.73, '20240721': 7.82, '20240719': 0.63, '20240718': 1.65,
                   '20240717': 1.53, '20240716': 0.63, '20240715': 0.73, '20240714': 6.98, '20240712': 1.52,
                   '20240711': 1.58, '20240710': 2.05, '20240709': 2.3, '20240708': 1.53, '20240706': 7.23,
                   '20240703': 1.58, '20240701': 0.78}}, {
        '姜宝柱': {'20240731': 3.12, '20240730': 2.1, '20240729': 1.7, '20240727': 6.85, '20240726': 2.17,
                   '20240725': 3.23, '20240724': 2.78, '20240723': 2.8, '20240722': 3.23, '20240719': 2.03,
                   '20240718': 2.93, '20240716': 2.92, '20240713': 7.57, '20240712': 2.32, '20240711': 0.68,
                   '20240710': 1.97, '20240709': 2.47, '20240708': 3.37, '20240707': 7.13, '20240705': 2.03,
                   '20240704': 2.57, '20240703': 3.42, '20240702': 1.78, '20240701': 2.62}},
    {'罗东海': {'20240727': 4.97, '20240722': 0.95, '20240720': 3.85, '20240713': 7.05, '20240707': 3.5}},
    {'晁岳明': {'20240713': 1.62}}, {
        '韩光': {'20240730': 1.48, '20240726': 2.18, '20240725': 1.0, '20240724': 1.02, '20240723': 1.07,
                 '20240722': 1.13, '20240721': 7.48, '20240719': 1.08, '20240717': 1.13, '20240716': 2.22,
                 '20240713': 7.8, '20240712': 0.93, '20240710': 1.33, '20240709': 1.75, '20240708': 1.78,
                 '20240705': 1.77, '20240704': 1.23, '20240703': 3.45}}, {
        '刘泽': {'20240731': 0.97, '20240730': 1.95, '20240727': 7.98, '20240725': 0.65, '20240724': 0.62,
                 '20240722': 1.22, '20240720': 8.0, '20240719': 2.68, '20240718': 3.6, '20240717': 0.82,
                 '20240716': 2.42, '20240710': 1.33, '20240708': 1.35, '20240707': 4.93, '20240704': 0.95,
                 '20240703': 3.5, '20240701': 1.0}}, {
        '张小奇': {'20240731': 5.85, '20240730': 3.95, '20240725': 3.08, '20240723': 2.38, '20240722': 2.6,
                   '20240720': 10.22, '20240719': 2.68, '20240713': 10.72, '20240712': 1.93, '20240711': 5.1,
                   '20240709': 2.05, '20240708': 4.38, '20240707': 8.97, '20240705': 3.9, '20240701': 3.12}}, {
        '张启元': {'20240731': 1.12, '20240730': 0.93, '20240729': 0.97, '20240727': 7.93, '20240725': 1.08,
                   '20240724': 0.75, '20240723': 0.9, '20240722': 0.58, '20240720': 8.2, '20240719': 2.02,
                   '20240718': 1.02, '20240716': 1.75, '20240713': 8.18, '20240709': 0.7, '20240708': 1.07,
                   '20240706': 7.07, '20240703': 1.13}}, {'贺树立': {}}, {
        '魏全勇': {'20240730': 2.52, '20240727': 6.97, '20240724': 4.07, '20240723': 1.2, '20240720': 7.58,
                   '20240719': 2.92, '20240717': 2.12, '20240716': 2.33, '20240713': 8.72, '20240712': 0.75,
                   '20240710': 2.55, '20240707': 8.15, '20240705': 2.52, '20240703': 5.35}}, {
        '刘正宽': {'20240731': 1.32, '20240730': 2.72, '20240729': 0.83, '20240727': 7.62, '20240725': 0.97,
                   '20240724': 1.97, '20240723': 2.8, '20240722': 0.57, '20240720': 7.63, '20240713': 8.32,
                   '20240712': 0.53, '20240711': 0.82, '20240710': 2.17, '20240709': 1.47, '20240703': 1.72}}, {
        '江玉洁': {'20240731': 1.2, '20240730': 1.2, '20240729': 1.05, '20240727': 8.02, '20240726': 0.82,
                   '20240725': 2.47, '20240724': 1.42, '20240723': 1.55, '20240722': 1.48, '20240720': 8.67,
                   '20240719': 2.02, '20240715': 1.77, '20240713': 7.72, '20240709': 1.65, '20240705': 1.72,
                   '20240704': 0.83, '20240703': 0.75, '20240702': 0.63, '20240701': 1.15}}, {
        '卢林': {'20240724': 1.42, '20240723': 1.55, '20240722': 1.23, '20240720': 8.37, '20240719': 2.02,
                 '20240718': 1.25, '20240715': 1.77, '20240713': 7.72, '20240712': 1.07, '20240711': 1.45,
                 '20240710': 1.45, '20240709': 1.65, '20240708': 3.32, '20240707': 8.15, '20240705': 1.5,
                 '20240704': 0.83, '20240703': 1.92, '20240702': 0.63, '20240701': 1.62}}, {
        '历侠': {'20240730': 1.33, '20240729': 2.93, '20240725': 0.82, '20240724': 1.42, '20240723': 3.15,
                 '20240722': 1.48, '20240721': 8.77, '20240720': 5.43, '20240719': 0.82, '20240716': 0.6,
                 '20240715': 1.77, '20240714': 7.53, '20240712': 2.22, '20240711': 2.47, '20240710': 1.68,
                 '20240709': 1.65, '20240708': 2.68, '20240706': 7.2, '20240704': 1.12, '20240703': 1.38,
                 '20240702': 0.63, '20240701': 1.13}}, {
        '王玉顺': {'20240731': 3.2, '20240730': 2.43, '20240725': 1.88, '20240724': 2.85, '20240723': 2.65,
                   '20240722': 1.62, '20240720': 4.32, '20240718': 2.03, '20240716': 2.92, '20240713': 10.15,
                   '20240712': 2.1, '20240711': 2.68, '20240708': 3.9, '20240707': 8.2, '20240704': 1.82,
                   '20240703': 2.8, '20240702': 1.02, '20240701': 2.6}}, {
        '刘子友': {'20240730': 2.13, '20240727': 6.33, '20240724': 2.43, '20240723': 1.63, '20240722': 1.65,
                   '20240717': 1.55, '20240712': 0.77, '20240710': 1.65, '20240707': 6.97, '20240703': 1.32}}, {
        '潘龙': {'20240731': 0.92, '20240730': 1.15, '20240729': 1.15, '20240727': 7.28, '20240726': 0.55,
                 '20240725': 1.25, '20240724': 0.97, '20240723': 0.97, '20240715': 0.98, '20240713': 7.5,
                 '20240711': 0.67, '20240708': 0.9, '20240707': 6.27, '20240705': 0.73, '20240703': 1.67,
                 '20240701': 0.9}}, {
        '卜和强': {'20240728': 7.92, '20240723': 0.92, '20240715': 0.78, '20240713': 4.6, '20240710': 1.05,
                   '20240709': 1.82, '20240708': 1.45, '20240707': 5.87, '20240704': 1.12, '20240703': 1.05,
                   '20240702': 0.62, '20240701': 0.75}}, {
        '尹建国': {'20240731': 0.77, '20240730': 2.5, '20240724': 0.72, '20240720': 7.77, '20240719': 0.57,
                   '20240718': 0.75, '20240711': 0.52, '20240707': 7.72}}, {
        '刘毅': {'20240731': 1.27, '20240730': 1.58, '20240729': 0.63, '20240726': 1.87, '20240725': 1.68,
                 '20240724': 1.18, '20240723': 0.52, '20240720': 9.12, '20240719': 1.58, '20240718': 1.28,
                 '20240717': 1.73, '20240716': 1.68, '20240715': 0.65, '20240713': 6.72, '20240711': 1.32,
                 '20240710': 2.02, '20240709': 0.73, '20240707': 7.85, '20240705': 0.52, '20240704': 0.68,
                 '20240703': 1.07}}, {
        '张忠强': {'20240731': 0.72, '20240730': 0.6, '20240729': 0.53, '20240728': 6.82, '20240724': 0.53,
                   '20240723': 0.72, '20240722': 0.65, '20240721': 6.77, '20240719': 0.78, '20240718': 0.65,
                   '20240714': 6.97, '20240712': 0.57, '20240708': 0.58, '20240707': 7.12, '20240705': 0.55,
                   '20240703': 0.57, '20240701': 0.6}}, {
        '赵德强': {'20240729': 0.68, '20240727': 7.5, '20240720': 7.52, '20240719': 1.9, '20240718': 0.9,
                   '20240713': 7.72, '20240711': 2.82, '20240709': 3.0, '20240708': 0.9, '20240707': 9.25,
                   '20240703': 1.78}}, {
        '徐有辉': {'20240731': 0.77, '20240730': 1.83, '20240720': 7.43, '20240717': 1.18, '20240715': 1.05,
                   '20240711': 0.87, '20240710': 0.75, '20240708': 1.87, '20240707': 6.63, '20240705': 0.92,
                   '20240703': 1.3}}, {
        '孙长勋': {'20240727': 6.35, '20240721': 6.97, '20240719': 1.75, '20240717': 0.63, '20240716': 0.53,
                   '20240714': 6.73, '20240707': 4.47, '20240701': 5.93}}, {'纪英辉': {}}, {
        '孙宝剑': {'20240731': 1.12, '20240730': 0.68, '20240729': 0.97, '20240727': 7.93, '20240724': 0.75,
                   '20240723': 0.9, '20240720': 7.72, '20240719': 0.8, '20240718': 1.02, '20240716': 1.75,
                   '20240715': 0.83, '20240713': 7.87, '20240711': 0.63, '20240709': 0.7, '20240708': 0.88,
                   '20240707': 7.73, '20240701': 0.72}}]

for dic in dict_all:
    for name in dic.keys():
        ji = Count()
        ji.jiSuan()

end = time.perf_counter()
print("运行时间：", end - start)
